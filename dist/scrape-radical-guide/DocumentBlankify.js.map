{"version":3,"file":"DocumentBlankify.js","sourceRoot":"","sources":["../../src/scrape-radical-guide/DocumentBlankify.ts"],"names":[],"mappings":"AAAA,MAAM,QAAQ,GAAG,CAAC,IAAwB,EAAE,EAAE;IAC5C,eAAe;IACf,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,EAAE;QACzB,IAAI,IAAI,CAAC,QAAQ,KAAK,OAAO,EAAE;YAC7B,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE;gBAAE,OAAO;aAAE;YACnE,4BAA4B;YAC5B,MAAM,KAAK,GAAG,QAAQ,CAAC,WAAW,EAAE,CAAC;YACrC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YACvB,MAAM,IAAI,GAAG,KAAK,CAAC,qBAAqB,EAAE,CAAC;YAC3C,KAAK,CAAC,MAAM,EAAE,CAAC;YAEf,yCAAyC;YACzC,MAAM,eAAe,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;YACvD,eAAe,CAAC,KAAK,CAAC,KAAK,GAAG,GAAG,IAAI,CAAC,KAAK,IAAI,CAAC;YAChD,eAAe,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,IAAI,CAAC,MAAM,IAAI,CAAC;YAClD,eAAe,CAAC,KAAK,CAAC,eAAe,GAAG,SAAS,CAAC;YAClD,eAAe,CAAC,KAAK,CAAC,OAAO,GAAG,cAAc,CAAC;YAC/C,eAAe,CAAC,KAAK,CAAC,aAAa,GAAG,aAAa,CAAC;YACpD,eAAe,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,IAAI,EAAE,CAAC;YAE/C,gBAAgB;YAChB,IAAI,CAAC,UAAW,CAAC,YAAY,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;SACtD;KACF;SAAM;QACL,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,KAAW,EAAE,EAAE;YAClD,QAAS,CAAC,KAAK,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC;KACJ;AACH,CAAC,CAAC","sourcesContent":["const blankify = (node: Node | HTMLElement) => {\n  // Base case(s)\n  if (!node.hasChildNodes()) {\n    if (node.nodeName === '#text') {\n      if (node.textContent && node.textContent.trim() === '') { return; }\n      // Measure size of text node\n      const range = document.createRange();\n      range.selectNode(node);\n      const rect = range.getBoundingClientRect();\n      range.detach();\n\n      // Fill up new element to same dimensions\n      const replacementNode = document.createElement('span');\n      replacementNode.style.width = `${rect.width}px`;\n      replacementNode.style.height = `${rect.height}px`;\n      replacementNode.style.backgroundColor = '#F3F3F3';\n      replacementNode.style.display = 'inline-block';\n      replacementNode.style.verticalAlign = 'text-bottom';\n      replacementNode.title = node.textContent || '';\n\n      // Swap them out\n      node.parentNode!.replaceChild(replacementNode, node);\n    }\n  } else {\n    Array.from(node.childNodes).forEach((child: Node) => {\n      blankify!(child);\n    });\n  }\n};\n"]}